<?php
/**
 * @var $block \Magento\Framework\View\Element\Template
 * @var $escaper \Magento\Framework\Escaper
 * @var $view \Dotdigitalgroup\Email\ViewModel\Customer\Account\AddressBooks
 */

// @codingStandardsIgnoreFile
$view = $block->getData('config');
?>

<?php
$additionalBooks = $view->getAdditionalBooksToShow();

if (!empty($additionalBooks)): ?>
    <fieldset class="fieldset">
        <legend class="legend">
            <span><?= $escaper->escapeHtml(__('Lists')) ?></span>
        </legend>
        <ul class="form-list" style="padding-left: 0">
            <?php foreach ($additionalBooks as $books): ?>
                <li class="control" style="display: block; margin: 5px 0 5px 10px">
                    <input type="checkbox" name="additional_subscriptions[]"
                           id="<?= $escaper->escapeHtml($books["name"]); ?>"
                           value="<?= $escaper->escapeHtml($books["value"]) ?>"
                           title="<?= $escaper->escapeHtml($books["name"]) ?>"
                        <?php if ($books["subscribed"]): ?>
                            checked="checked"
                        <?php endif; ?> class="checkbox"
                    />
                    <label for="<?= $escaper->escapeHtml($books["name"]); ?>">
                        <?= $escaper->escapeHtml($books["name"]) ?>
                    </label>
                </li>
            <?php endforeach; ?>
        </ul>
    </fieldset>
<?php endif; ?>
